<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>SafePads</title>
	<!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<!-- css links -->
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
	<link rel="stylesheet" href="assets/css/style.css">

	

</head>

<body>

	<div class="row">
	<div id="header" class="col s6 offset-s3">


		<div class="caption left-align">
          <h3>SafePad</h3>
          <h5 class="light grey-text text-lighten-3">Search vacation rentals.</h5>
        </div>


	</div> <!-- end header div -->
	</div>

		<div class="row">
			<div id="submit" class="col s12">

				<div class="input-field col s6 offset-s3">
		          <input id="location" placeholder="Enter your address" type="text" class="validate"></input> 
		        </div>

				<div class="col s6 offset-s3">
				    <p>
				      <input type="checkbox" id="area-crime" />
				      <label for="area-crime">Area Crime</label>
				    </p>
				    <p>
				      <input type="checkbox" id="sex-offenders" />
				      <label for="sex-offenders">Sex Offenders</label>
				    </p>
				    <p>
				      <input type="checkbox" id="other-option" />
				      <label for="other-option">Other Option</label>
				    </p>
				

					<a href="#map" class="animate"><button id="submit-input" class="btn waves-effect waves-light" type="search" name="action">Search
	    			<i class="material-icons right">search</i>
	  				</button></a>
	  			</div>
	  			

			</div> <!-- end sumbit div -->
		</div> <!-- end row div -->
		<div class="section"></div>
		<div class="section"></div>
		<div class="row">
		<div id="map" class="col s10 offset-s1">
		</div>
		</div> <!-- end map div -->


		<div class="row">
		<div id="submit-results" class="col s7 offset-s1">
			<h3>Submit Results</h3>
			<table class="highlight response-data">
				<thead>
					<tr>
						<th>Location</th>
						<th>Description</th>
						<th>Date</th>
					</tr>
				</thead>

				<tbody>
					<tr>
						<td></td>
						<td></td>
						<td></td>
					</tr>					
					<tr>
						<td>123 Elm St.</td>
						<td>Something Bad</td>
						<td>10/04/17</td>
					</tr>
					<tr>
						<td>Crossroads</td>
						<td>Something really bad</td>
						<td>Yesterday</td>
					</tr>
					<tr>
						<td>Your House</td>
						<td>OMG</td>
						<td>Tomorrow</td>
					</tr>
				</tbody>
			</table>

		</div> <!-- end sumbit-results div -->

		<div id="previous-search" class="col s3">
			<h4>Previous Search</h4>
		<div class="collection">
	        <a href="#!" class="collection-item">Glass House</a>
	        <a href="#!" class="collection-item">Your House</a>
	        <a href="#!" class="collection-item">My House</a>
	        <a href="#!" class="collection-item">House Music</a>
	        <a href="#!" class="collection-item">That one place</a>
		</div>

		</div> <!-- end previous-search div -->
		</div>

		<div class="row">
		  <footer class="page-footer">
          <div class="container">
            <div class="row">
              <div class="col l6 s12">
                <h5 class="white-text">Purple Cobras</h5>
                <p class="grey-text text-lighten-4">Group Project 1</p>
              </div>
              <div class="col l4 offset-l2 s12">
                <h5 class="white-text">Group Members</h5>
                <ul>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
            Â© 2017 Cobra Kai
            </div>
          </div>
        </footer>



     

	<script>



      

      

	/*renders google map
	var map;
	function initMap() {
		map = new google.maps.Map(document.getElementById("map"), {
		center: {lat: 41.881832, lng: -87.623177},
		zoom: 11
	});

	var geocoder = new google.maps.Geocoder();



	$(document).ready(function() {

// add scrolling to anchors
$(".animate").on('click', function(event) {

    // Make sure this.hash has a value before overriding default behavior
    if (this.hash !== "") {
      // Prevent default anchor click behavior
      event.preventDefault();
      var hash = this.hash;

      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 500, function(){
   
        // Add hash (#) to URL when done scrolling (default click behavior)
        //window.location.hash = hash;
      });
    }
  });

		 	$("#location").keypress(function(e){
        if(e.which == 13){//Enter key pressed
            $("#submit-input").click();//Trigger search button click event
        }
    });

  // grabs user input from location search 
	$("#submit-input").click(function() {
		
		var address = $("#location").val();
		console.log(address);

	// converts user submitted address to longitude and latitude coordinates
	geocoder.geocode( { "address": address}, function(results, status) {

		if (status == google.maps.GeocoderStatus.OK) {

			latitude = results[0].geometry.location.lat();
			longitude = results[0].geometry.location.lng();
			console.log(longitude)
			console.log(latitude)
	//jQuery('.collection-item').val(latitude+', '+longitude);
	} 


	var queryURL = "https://data.cityofchicago.org/resource/6zsd-86xi.json?$where=within_circle(location," + latitude + ", " + longitude + ", 50)";
	console.log(queryURL);



      // Performing an AJAX request with the queryURL
$.ajax({
    url: queryURL,
    type: "GET",
    data: {
      "$limit" : 200,
      "$$app_token" : "pyfrFl35spogEJeGI7iTphR2y",
    }
})
        // After data comes back from the request
        .done(function(response) {
          console.log(queryURL);

          console.log(response);
          // storing the data from the AJAX request in the results variable
          var results = response;

		for (var i = 0; i < response.length; i++) {
                  var block = results[i].block;
                  console.log(block);			
                  var description = results[i].description;
                  console.log(description);
                  var date = results[i].date;
                  console.log(date);          

              

       // Chaining several jQuery methods to achieve the following:
      var firstRowTds = $("response-data") // Get a reference to the table as a jQuery object
        .children() // Get all of table's immediate children as an array
        .eq(1) // Get element at the first index of this returned array (the <tbody>)
        .children("tr") // Get an array of all <tr> children inside the returned <tbody>
        .eq(0) // Get the 0th child of this returned array (the first <tr>)
        .children("td"); // Get an array of all <td> children inside the returned <tr>

      // Setting the inner text of each <td> in the firstRowTds array
      firstRowTds.eq(0).text(description);

      firstRowTds.eq(1).text(response.block);

      firstRowTds.eq(2).text(response.date);


}*/

          // Looping through each result item
          /*for (var i = 0; i < results.length; i++) {

            // Creating and storing a div tag
            var animalDiv = $("<div>");

            // Creating a paragraph tag with the result item's rating
            var p = $("<p>").text("Rating: " + results[i].rating);

            // Creating and storing an image tag
            var animalImage = $("<img>");
            // Setting the src attribute of the image to a property pulled off the result item
            animalImage.attr("src", results[i].images.fixed_height.url);

            // Appending the paragraph and image tag to the animalDiv
            animalDiv.append(p);
            animalDiv.append(animalImage);

            // Prependng the animalDiv to the HTML page in the "#gifs-appear-here" div
            $("#gifs-appear-here").prepend(animalDiv);
          }
          
        



	}); //



	}); //on click end

	autocomplete = new google.maps.places.Autocomplete(
      (document.getElementById('location')),
      {types: ['geocode']});
      //autocomplete.addListener('place_changed', fillInAddress);
	});
	}*/

    </script>
    <!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAJQ__z06-Y3H9TYepxUNOicjA-CEwGJsw&callback=initMap" async defer></script>-->
    <!-- js links -->
     <!--Import jQuery before materialize.js-->
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
	<!-- google map api js functions link-->
	<script type="text/javascript" src = "assets/js/google-map-api.js"></script>
	<!-- crime api js file-->
	<script type="text/javascript" src = "assets/js/crime-api.js"></script>
	<!-- for the google map to show up-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAJQ__z06-Y3H9TYepxUNOicjA-CEwGJsw&libraries=places&callback=initMap" async defer></script>



</body>

</html>